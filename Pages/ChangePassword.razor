@page "/change-password"

<PageTitle>Change Password</PageTitle>

<h3>Change Password</h3>

@if (success)
{
    <p>Your password was updated successfully.</p>
}
else if (!success && attempted)
{
    <p>There was an error updating your password. Please try again.</p>
}
else
{
    <p>Enter your current password and your new password.</p>
}

@if (!success)
{
    <EditForm Model="@changePasswordModel" OnValidSubmit="@ChangePasswordAsync">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <div class="form-group">
            <label for="currentPassword">Current Password</label>
            <InputText type="password" id="currentPassword" class="form-control" @bind-Value="changePasswordModel!.CurrentPassword" />
        </div>

        <div class="form-group">
            <label for="newPassword">New Password</label>
            <InputText type="password" id="newPassword" class="form-control" @bind-Value="changePasswordModel.NewPassword" />
        </div>

        <div class="form-group">
            <label for="confirmNewPassword">Confirm New Password</label>
            <InputText type="password" id="confirmNewPassword" class="form-control" @bind-Value="changePasswordModel.ConfirmNewPassword" />
        </div>

        <hr />

        <button type="submit" class="btn btn-primary">Change Password</button>
    </EditForm>
}
